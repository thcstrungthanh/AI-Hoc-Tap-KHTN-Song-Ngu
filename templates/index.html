<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>·ª®ng D·ª•ng M√¥ H√¨nh Ng√¥n Ng·ªØ L·ªõn H·ªó Tr·ª£ H·ªçc T·∫≠p</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: { inlineMath: [['$', '$']], displayMath: [['$$', '$$']], processEscapes: true }
    });
  </script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          screens: { 'xs': '480px' },
          colors: {
            'primary-blue': '#1e40af',
            'primary-hover': '#1e3a8a',
            'accent-green': '#10b981',
            'accent-yellow': '#f59e0b',
            'neutral-gray': '#f3f4f6',
          },
          boxShadow: {
            'modern': '0 4px 12px rgba(0, 0, 0, 0.1)',
            'card': '0 2px 8px rgba(0, 0, 0, 0.08)',
          },
          borderRadius: { 'xl': '1rem' },
        },
      },
    }
  </script>
  <style>
    /* Menubar slide from left */
    #menubar {
      transition: transform 0.3s ease-in-out;
      transform: translateX(-100%);
    }

    #menubar.active {
      transform: translateX(0);
    }

    /* Chat container gradient border */
    #chat-messages {
      border-radius: 1rem;
    }

    /* Chat bubble styling */
    .chat-bubble.ai-message {
      background: linear-gradient(145deg, #ffffff, #e6f3fa);
      border: 1px solid rgba(30, 64, 175, 0.2);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .chat-bubble.user-message {
      background: linear-gradient(145deg, #1e40af, #1e3a8a);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* Typing animation */
    .typing-dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: radial-gradient(circle, #1e40af, #10b981);
      border-radius: 50%;
      animation: pulse 1.4s ease-in-out infinite;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.5);
        opacity: 0.7;
      }
    }

    /* AI icon */
    .ai-icon {
      width: 1.5rem;
      height: 1.5rem;
      vertical-align: middle;
      margin-right: 0.5rem;
    }
  </style>
</head>

<body class="bg-neutral-gray min-h-screen flex flex-col font-sans antialiased">
  <!-- Header -->
  <header class="bg-primary-blue text-white shadow-modern sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-[10px] xs:text-sm sm:text-lg md:text-xl font-bold leading-tight max-w-[70%]">
        üí¨ ·ª®NG D·ª§NG M√î H√åNH NG√îN NG·ªÆ L·ªöN H·ªñ TR·ª¢ H·ªåC SINH H·ªåC T·∫¨P SONG NG·ªÆ KHOA H·ªåC T·ª∞ NHI√äN
      </h1>
      <button id="menu-toggle" class="text-white hover:text-gray-200 focus:outline-none">
        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <!-- Menubar Slide-in -->
  <nav id="menubar" class="fixed top-0 left-0 w-64 h-full bg-white shadow-modern z-50 flex flex-col">
    <div class="flex justify-between items-center p-4 border-b">
      <h2 class="text-lg font-semibold text-primary-blue">üéØ T√≠nh NƒÉng</h2>
      <button id="close-menu" class="text-gray-600 hover:text-gray-800">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="flex flex-col gap-3 p-4">
      <a href="https://www.canva.com/vi_vn/tao-anh-ai/"
        class="flex items-center gap-2 bg-gradient-to-r from-blue-100 to-blue-50 hover:from-blue-200 text-primary-blue font-medium py-2.5 px-4 rounded-lg transition text-sm xs:text-base">
        üé® T·∫°o h√¨nh ·∫£nh b·∫±ng AI
      </a>
      <a href="https://www.canva.com/vi_vn/thiet-ke/viet-truyen-bang-ai/"
        class="flex items-center gap-2 bg-gradient-to-r from-green-100 to-green-50 hover:from-green-200 text-accent-green font-medium py-2.5 px-4 rounded-lg transition text-sm xs:text-base">
        üìö T·∫°o truy·ªán b·∫±ng AI
      </a>
      <a href="/logout"
        class="flex items-center gap-2 bg-gradient-to-r from-red-100 to-red-50 hover:from-red-200 text-red-600 font-medium py-2.5 px-4 rounded-lg transition text-sm xs:text-base">
        üö™ ƒêƒÉng xu·∫•t
      </a>
    </div>
  </nav>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col container mx-auto px-4 sm:px-6">
    <!-- Chat Area -->
    <div id="chat-messages" class="flex-1 py-5 xs:py-6 sm:py-8 overflow-y-auto flex flex-col gap-4 ">
      <div
        class="ai-message chat-bubble rounded-xl p-4 max-w-[85%] xs:max-w-[80%] sm:max-w-[75%] self-start text-sm xs:text-base mathjax-container">
        <strong>Xin ch√†o c√°c em üëã!</strong><br>
        Th·∫ßy l√† <span class="font-medium text-primary-blue">tr·ª£ l√Ω h·ªçc t·∫≠p b·ªô m√¥n Khoa h·ªçc T·ª± nhi√™n song ng·ªØ</span> ‚Äî
        g·ªìm
        <span class="bg-accent-green text-white px-2 py-1 rounded text-xs xs:text-sm">To√°n</span>,
        <span class="bg-primary-blue text-white px-2 py-1 rounded text-xs xs:text-sm">V·∫≠t l√Ω</span>,
        <span class="bg-accent-yellow text-white px-2 py-1 rounded text-xs xs:text-sm">H√≥a h·ªçc</span> v√†
        <span class="bg-green-500 text-white px-2 py-1 rounded text-xs xs:text-sm">Sinh h·ªçc</span><br><br>
        C√°c em c√≥ th·ªÉ ƒë·∫∑t c√¢u h·ªèi, y√™u c·∫ßu gi·∫£i th√≠ch, ho·∫∑c nh·ªù th·∫ßy h∆∞·ªõng d·∫´n b√†i t·∫≠p ‚Äî th·∫ßy s·∫Ω c√πng c√°c em h·ªçc t·∫≠p v√†
        kh√°m ph√° khoa h·ªçc th·∫≠t d·ªÖ hi·ªÉu v√† th√∫ v·ªã nh√©!<br><br>

        <strong>Hello everyone üëã!</strong><br>
        I'm your <span class="font-medium text-primary-blue">Bilingual Natural Science learning assistant</span> ‚Äî
        covering
        <span class="bg-accent-green text-white px-2 py-1 rounded text-xs xs:text-sm">Math</span>,
        <span class="bg-primary-blue text-white px-2 py-1 rounded text-xs xs:text-sm">Physics</span>,
        <span class="bg-accent-yellow text-white px-2 py-1 rounded text-xs xs:text-sm">Chemistry</span>, and
        <span class="bg-green-500 text-white px-2 py-1 rounded text-xs xs:text-sm">Biology</span><br><br>
        You can ask questions, request explanations, or get help with exercises ‚Äî I‚Äôll study with you and make science
        easy
        and exciting to learn!
      </div>
    </div>


    <!-- Chat Input -->
    <form id="chat-form"
      class="p-4 bg-white border-2 border-transparent border-image: linear-gradient(to right, #1e40af, #10b981) 1 shadow-card flex items-center gap-2 xs:gap-3 rounded-xl mt-4"
      style="margin-top:6cm; margin-bottom:2cm;">
      <input type="text" id="message" name="message" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..."
        class="flex-1 border border-gray-300 rounded-full px-4 py-2 focus:ring-2 focus:ring-primary-blue outline-none text-gray-800 text-sm xs:text-base transition duration-200">
      <button type="submit"
        class="bg-primary-blue hover:bg-primary-hover text-white rounded-full px-4 sm:px-5 py-2 font-semibold transition flex items-center gap-2 text-sm xs:text-base whitespace-nowrap">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
        </svg>
        G·ª≠i
      </button>
    </form>





  </main>

  <script>
    const menuToggle = document.getElementById('menu-toggle');
    const closeMenu = document.getElementById('close-menu');
    const menubar = document.getElementById('menubar');
    const overlay = document.getElementById('overlay');

    menuToggle.addEventListener('click', () => {
      menubar.classList.add('active');
      overlay.classList.remove('hidden');
    });
    closeMenu.addEventListener('click', () => {
      menubar.classList.remove('active');
      overlay.classList.add('hidden');
    });
    overlay.addEventListener('click', () => {
      menubar.classList.remove('active');
      overlay.classList.add('hidden');
    });

    // Chat logic
    const form = document.getElementById('chat-form');
    const input = document.getElementById('message');
    const chatMessages = document.getElementById('chat-messages');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const message = input.value.trim();
      if (!message) return;

      // User message
      const userDiv = document.createElement('div');
      userDiv.className = 'user-message chat-bubble rounded-xl p-4 self-end max-w-[85%] xs:max-w-[80%] sm:max-w-[75%] text-sm xs:text-base';
      userDiv.textContent = message;
      chatMessages.appendChild(userDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      input.value = '';

      // Typing effect
      const typingDiv = document.createElement('div');
      typingDiv.className = 'chat-bubble rounded-xl p-4 self-start flex gap-2';
      typingDiv.innerHTML = `
        <span class="typing-dot"></span>
        <span class="typing-dot"></span>
        <span class="typing-dot"></span>`;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;

      try {
        const res = await fetch('/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message })
        });
        const data = await res.json();
        chatMessages.removeChild(typingDiv);

        const aiDiv = document.createElement('div');
        aiDiv.className = 'ai-message chat-bubble rounded-xl p-4 max-w-[85%] xs:max-w-[80%] sm:max-w-[75%] self-start text-sm xs:text-base mathjax-container';
        aiDiv.innerHTML = data.response || '‚ö†Ô∏è L·ªói: Kh√¥ng c√≥ ph·∫£n h·ªìi.';
        chatMessages.appendChild(aiDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;

        MathJax.Hub.Queue(["Typeset", MathJax.Hub, "chat-messages"]);
      } catch (err) {
        chatMessages.removeChild(typingDiv);
        const errDiv = document.createElement('div');
        errDiv.className = 'chat-bubble rounded-xl p-4 self-start text-red-600 text-sm xs:text-base';
        errDiv.textContent = '‚ö†Ô∏è L·ªói k·∫øt n·ªëi, vui l√≤ng th·ª≠ l·∫°i.';
        chatMessages.appendChild(errDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    });

    input.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') form.dispatchEvent(new Event('submit'));
    });
  </script>
</body>
<footer class="bg-gray-50 border-t border-gray-200 py-8 px-5 sm:px-10">
  <div
    class="max-w-6xl mx-auto flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left gap-6 sm:gap-10">

    <!-- ·∫¢nh t√°c gi·∫£ -->
    <img src="logo.jpg"
      alt="Gi√°o vi√™n L√™ Quang Ph√∫c"
      class="w-24 h-24 sm:w-32 sm:h-32 lg:w-36 lg:h-36 rounded-full border-2 sm:border-4 border-primary-blue shadow-md object-cover" />

    <!-- N·ªôi dung -->
    <div class="flex-1 max-w-6xl">
      <h2 class="text-base sm:text-lg font-semibold text-primary-blue mb-2">
        ·ª®NG D·ª§NG M√î H√åNH NG√îN NG·ªÆ L·ªöN H·ªñ TR·ª¢ H·ªåC SINH H·ªåC T·∫¨P SONG NG·ªÆ KHOA H·ªåC T·ª∞ NHI√äN
      </h2>
      <p class="text-sm sm:text-base text-gray-600 leading-relaxed">
        D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn nh·∫±m mang ƒë·∫øn cho h·ªçc sinh m√¥i tr∆∞·ªùng t·ª± h·ªçc th√¥ng minh,
        k·∫øt h·ª£p gi·ªØa tr√≠ tu·ªá nh√¢n t·∫°o v√† ph∆∞∆°ng ph√°p gi√°o d·ª•c hi·ªán ƒë·∫°i.<br><br>
        T√°c gi·∫£ d·ª± √°n l√† <span class="font-medium">Gi√°o vi√™n L√™ Quang Ph√∫c</span>,
        hi·ªán ƒëang c√¥ng t√°c t·∫°i <span class="font-medium">Tr∆∞·ªùng THCS Trung Th√†nh ‚Äì Linh H·ªì ‚Äì Tuy√™n Quang</span>.<br><br>
        Li√™n h·ªá:
        <a href="mailto:lequangphuctq81@gmail.com" class="text-primary-blue hover:underline">
          lequangphuctq81@gmail.com
        </a>
      </p>
    </div>
  </div>

  <!-- D√≤ng b·∫£n quy·ªÅn -->
  <div class="mt-8 border-t border-gray-200 pt-4 text-center text-xs sm:text-sm text-gray-500">
    ¬© Tr∆∞·ªùng THCS Trung Th√†nh ‚Äì Linh H·ªì ‚Äì Tuy√™n Quang ‚Äî Ph√°t tri·ªÉn v√¨ t∆∞∆°ng lai h·ªçc t·∫≠p th√¥ng minh.
  </div>
</footer>

</html>
